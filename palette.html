<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<script src="javascript/jquery-latest.js"></script>
<link media="screen" href="css/testsuite.css" type="text/css" rel="stylesheet">
<link media="screen,print" href="css/fretboard.css" type="text/css" rel="stylesheet">
<link media="screen,print" href="css/teacher.css" type="text/css" rel="stylesheet">
<link media="print" href="css/fretboard-print.css" type="text/css" rel="stylesheet">
<script type="text/javascript" src="javascript/farbtastic.js"></script>
<link rel="stylesheet" href="farbtastic/farbtastic.css" type="text/css" />
<script src="javascript/array.js"></script>
<script src="javascript/color.js"></script>
<script src="javascript/js-music-theory.js"></script>
<script src="javascript/guitar.js"></script>
<script src="javascript/timer.js"></script>
<script src="javascript/string.supplant.js"></script>



<script type="text/javascript">


DOM = {};
DOM.element = function() {
  if (arguments.length == 0) { return "ERROR"; }  

  var tag = arguments[0];
  var interface = jQuery('<' + tag + '></' + tag + '>');
  if (arguments.length == 1) {
    return interface;
  }
  
  var children = arguments[1]; 
  if (typeof children == "string") {
    interface.html(children);
  }
  else if (typeof children == "object") { //probably another jquery object
    interface.append(children);
  }
  else {
    children.each(function(child) {
      interface.append(child);  
    });  
  }
  return interface;
};

DOM.li = function() {
  if (arguments.length == 0) { return DOM.element('li'); }
  return DOM.element('li',arguments[0]);
};
DOM.a = function() {
  if (arguments.length == 0) { return DOM.element('a'); }
  return DOM.element('a',arguments[0]);
};
DOM.img = function() {
  if (arguments.length == 0) { return DOM.element('img'); }
  return DOM.element('img',arguments[0]);
};
DOM.div = function() {
  if (arguments.length == 0) { return DOM.element('div'); }
  return DOM.element('div',arguments[0]);
};



JSMT.imageResults = false;  
function jsonp(payload) {


  var study = jQuery('#study');

  console.log(payload,'payload');

  payload.select(function(searchResult) {
    ////console.log(searchResult,'s r');
    var li = jQuery('<li></li>');

    var img = jQuery('<img />');
    img.attr('src',searchResult.url);
    
    var a = jQuery('<a></a>');
    a.attr('href',searchResult.url);

    a.append(img);
    li.append(a);    
    study.append(li);
    
  ////var img = jQuery('<img src="{src}" />'.supplant({ src: searchResult.url }));
    ///var a = jQuery('<a href="{src}" />'.supplant({ src: searchResult.url }));
    //a.append(img);
    //jQuery(document).append(a);  
  });


}





function tryRandomPalette() {
  JSMT.myPalette = JSMT.randomPalette();
  var firstGuitar = JSMT.guitars[0];
  firstGuitar.redraw();
  jQuery('.fret-number-6').trigger('click');  
  firstGuitar.harmonizeFirstGrip();
}


$(document).ready(function(){

  //var degreeStr = $('#include_degrees-' + id).val();
  //zz id = fretboardID.replace(/fretboard-/,'');
  ////var degrees = include_degrees(id);
  //console.log(scalesByDegree.length);

  var scalesByDegree = [
    '1,2,3,4,5,6,7',
    '1,2,3,4,5,6,7',
    '1,2,3,4,5,6,7',
    '1,2,3,4,5,6,7',
    '1,2,3,4,5,6,7',
    '1,2,3,4,5,6,7',
    '1,2,3,4,5,6,7',
    '1,2,3,4,5,6,7',
    '1,2,3,4,5,6,7',
    '1,2,3,4,5,6,7',
    '1,2,3,4,5,6,7',
    '1,2,3,4,5,6,7',
    '1,2,3,4,5,6,7'
  ];
  
  $('#picker').farbtastic('#color');

  for (var i = 0, l = scalesByDegree.length; i < l; i += 1) {
    var d = document.createElement('div');
    $('#main').append(d);
    var guitar = Guitar({degreeList: scalesByDegree[i]});
    JSMT.guitars.push(guitar);
    guitar.renderOn(d);
  }



  jQuery('#try').click(function() {
    tryRandomPalette();
  });

/*

  jQuery.each(scalesByDegree,function(i,e) {
    //console.log('i:',i);
  ///console.log('sbd',scalesByDegree[i]);
    var sbd = scalesByDegree[i]; //not sure why i need a var for this.
    build_guitar_table('fretboard-' + i,build_guitar(),sbd);
  //console.log(input_i.val());
  //////update_guitar('fretboard-' + i,parse_degrees(tmp.val()));    
  });
*/

});

 </script>
</head>
<body id="css-zen-garden">
  <div id="container">
    <div id="intro">
      <h1>Playing the Guitar in 20 Questions</h1>      
    </div>
    <div id="supportingText">
      <div class="form-item">
        <label for="color">Color:</label>
        <input type="text" id="color" name="color" value="#ff0f18" />
      </div>
      <div id="picker"></div>      
      <div id="main">

        <p>
          <ul>
            <li><a href="saved-triads.html">Saved Major (and natural minor) Scale Triads</a></li>
            <li><a href="saved-hm-triads.html">Saved Harmonic-Minor Scale Triads</a></li>
          </ul>
        </p>

        <ol>
          <li>1. (optional) Pick a color</li>
          <li>2. Click some numbered frets to define your first chord</li>
          <li>3. Click Harmonize This! to see your chord harmonized across the major scale</li>
        </ol>
        <button id="try">Try random Palette</button>
      </div><!-- main -->
    </div><!-- supporting-text -->
    <h3>Music Study Images</h3>
    <ul id="study">
    </ul><!-- study -->
    
  </div><!-- container -->
<script src="http://dropafew.com/todo/?action=bookmarksjsonp&tony=clifton&tags=study+music+image"></script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-4321414-2");
pageTracker._trackPageview();
</script>

</body>
</html>
